{"id":"f0e17af0-eb21-434e-a77a-d558f7d69fd5","revision":0,"last_node_id":22,"last_link_id":38,"nodes":[{"id":5,"type":"Florence2ModelLoader","pos":[-946.351806640625,598.0951538085938],"size":[288,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[4]}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.6","Node name for S&R":"Florence2ModelLoader"},"widgets_values":["Florence-2-base","fp16","sdpa",false]},{"id":11,"type":"LLMJSONParser","pos":[169.39703369140625,10.685662269592285],"size":[233.97726440429688,86],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"json_string","name":"json_string","type":"STRING","link":22}],"outputs":[{"localized_name":"primary_subject","name":"primary_subject","type":"STRING","links":[]},{"localized_name":"secondary_subjects_text","name":"secondary_subjects_text","type":"STRING","links":null},{"localized_name":"nsfw","name":"nsfw","type":"BOOLEAN","links":null},{"localized_name":"violence","name":"violence","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"LLMJSONParser"},"widgets_values":[]},{"id":14,"type":"LLMSafetyGateJSON","pos":[521.3471069335938,169.81576538085938],"size":[293.9772644042969,142],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"json_string","name":"json_string","type":"STRING","link":24},{"localized_name":"stop_on_nsfw","name":"stop_on_nsfw","shape":7,"type":"BOOLEAN","widget":{"name":"stop_on_nsfw"},"link":null},{"localized_name":"stop_on_violence","name":"stop_on_violence","shape":7,"type":"BOOLEAN","widget":{"name":"stop_on_violence"},"link":null}],"outputs":[{"localized_name":"primary_subject","name":"primary_subject","type":"STRING","links":[25]},{"localized_name":"secondary_subjects_text","name":"secondary_subjects_text","type":"STRING","links":null},{"localized_name":"nsfw","name":"nsfw","type":"BOOLEAN","links":null},{"localized_name":"violence","name":"violence","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"LLMSafetyGateJSON"},"widgets_values":[true,true]},{"id":6,"type":"ShowText|pysssss","pos":[99.82830047607422,555.667724609375],"size":[346.4389343261719,358.41998291015625],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","link":5}],"outputs":[{"localized_name":"STRING","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"1.2.5","Node name for S&R":"ShowText|pysssss"},"widgets_values":["a person holding a blue and white bag in their hand"]},{"id":4,"type":"ShowText|pysssss","pos":[918.0504760742188,168.0140380859375],"size":[346.4389343261719,358.41998291015625],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","link":25}],"outputs":[{"localized_name":"STRING","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"1.2.5","Node name for S&R":"ShowText|pysssss"},"widgets_values":["blue and white bag"]},{"id":3,"type":"Florence2Run","pos":[-485.44805908203125,127.15626525878906],"size":[400,364],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":1},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":4},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":null},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"caption","name":"caption","type":"STRING","links":[5,22,23]},{"localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.6","Node name for S&R":"Florence2Run"},"widgets_values":["","caption",true,false,1024,3,true,"",1053461616421896,"randomize"]},{"id":2,"type":"LoadImage","pos":[-910.5115356445312,122.13870239257812],"size":[273.4772644042969,314],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[1]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.63","Node name for S&R":"LoadImage"},"widgets_values":["f77bbebe94082884fa794aa74017b8c36446ccb5.jpeg","image"]},{"id":13,"type":"LocalJSONExtractorLlama","pos":[48.25822067260742,168.3821258544922],"size":[400,280],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"caption","name":"caption","type":"STRING","widget":{"name":"caption"},"link":23},{"localized_name":"model_path","name":"model_path","type":"STRING","widget":{"name":"model_path"},"link":null},{"localized_name":"subject_priority","name":"subject_priority","type":"COMBO","widget":{"name":"subject_priority"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"n_ctx","name":"n_ctx","shape":7,"type":"INT","widget":{"name":"n_ctx"},"link":null},{"localized_name":"n_gpu_layers","name":"n_gpu_layers","shape":7,"type":"INT","widget":{"name":"n_gpu_layers"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"json","name":"json","type":"STRING","links":[24]}],"properties":{"Node name for S&R":"LocalJSONExtractorLlama"},"widgets_values":["","C:/Users/genfp/AI_avatar/Comfy_vanila/ComfyUI/models/llm/Meta-Llama-3.1-8B-Instruct-Q5_K_M.gguf","product",0.1,192,4096,-1,1838302110,"randomize"]}],"links":[[1,2,0,3,0,"IMAGE"],[4,5,0,3,1,"FL2MODEL"],[5,3,2,6,0,"STRING"],[22,3,2,11,0,"STRING"],[23,3,2,13,0,"STRING"],[24,13,0,14,0,"STRING"],[25,14,0,4,0,"STRING"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.7686421116383897,"offset":[1799.930187890232,304.05189283843146]}},"version":0.4}