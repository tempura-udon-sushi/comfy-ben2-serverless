{"id":"c81c96ac-2e8a-4b3a-b5d3-a0d04a71da4c","revision":0,"last_node_id":18,"last_link_id":30,"nodes":[{"id":10,"type":"LocalJSONExtractorLlama","pos":[1238.4315185546875,425.2122802734375],"size":[400,280],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"caption","name":"caption","type":"STRING","widget":{"name":"caption"},"link":7},{"localized_name":"model_path","name":"model_path","type":"STRING","widget":{"name":"model_path"},"link":null},{"localized_name":"subject_priority","name":"subject_priority","type":"COMBO","widget":{"name":"subject_priority"},"link":null},{"localized_name":"temperature","name":"temperature","shape":7,"type":"FLOAT","widget":{"name":"temperature"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"n_ctx","name":"n_ctx","shape":7,"type":"INT","widget":{"name":"n_ctx"},"link":null},{"localized_name":"n_gpu_layers","name":"n_gpu_layers","shape":7,"type":"INT","widget":{"name":"n_gpu_layers"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"json","name":"json","type":"STRING","links":[11,12]}],"properties":{"Node name for S&R":"LocalJSONExtractorLlama"},"widgets_values":["","C:/Users/genfp/AI_avatar/Comfy_vanila/ComfyUI/models/llm/Meta-Llama-3.1-8B-Instruct-Q5_K_M.gguf","auto",0.1,192,4096,-1,1379009112,"randomize"]},{"id":7,"type":"SaveImageNoMetadata","pos":[2971.0244140625,137.6777801513672],"size":[270,270],"flags":{},"order":11,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":5},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveImageNoMetadata"},"widgets_values":["Untitled image"]},{"id":13,"type":"PreviewImage","pos":[2968.46533203125,480.0948791503906],"size":[270.2258605957031,343.013916015625],"flags":{},"order":12,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":16}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.63","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":8,"type":"Florence2Run","pos":[791.6996459960938,551.4398803710938],"size":[400,364],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":24},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":18},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"caption","name":"caption","type":"STRING","links":[7,17]},{"localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.6","Node name for S&R":"Florence2Run"},"widgets_values":["","detailed_caption",true,false,256,3,true,"",25479647846595,"fixed"]},{"id":14,"type":"ShowText|pysssss","pos":[1240.8316650390625,772.1506958007812],"size":[364.96746826171875,341.33905029296875],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","link":17}],"outputs":[{"localized_name":"STRING","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"1.2.5","Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":15,"type":"Florence2ModelLoader","pos":[465.65496826171875,568.6064453125],"size":[288,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[18]}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.6","Node name for S&R":"Florence2ModelLoader"},"widgets_values":["Florence-2-base","fp16","sdpa",false]},{"id":12,"type":"ShowText|pysssss","pos":[1695.0789794921875,467.5874328613281],"size":[364.96746826171875,341.33905029296875],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"text","name":"text","type":"STRING","link":12}],"outputs":[{"localized_name":"STRING","name":"STRING","shape":6,"type":"STRING","links":null}],"properties":{"cnr_id":"comfyui-custom-scripts","ver":"1.2.5","Node name for S&R":"ShowText|pysssss"},"widgets_values":[]},{"id":11,"type":"ImageSafetyGate","pos":[1696.3302001953125,140.35337829589844],"size":[270,142],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":20},{"localized_name":"json_string","name":"json_string","type":"STRING","link":11},{"localized_name":"stop_on_nsfw","name":"stop_on_nsfw","shape":7,"type":"BOOLEAN","widget":{"name":"stop_on_nsfw"},"link":null},{"localized_name":"stop_on_violence","name":"stop_on_violence","shape":7,"type":"BOOLEAN","widget":{"name":"stop_on_violence"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[29]},{"localized_name":"primary_subject","name":"primary_subject","type":"STRING","links":null},{"localized_name":"nsfw","name":"nsfw","type":"BOOLEAN","links":null},{"localized_name":"violence","name":"violence","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"ImageSafetyGate"},"widgets_values":[true,true]},{"id":16,"type":"SmartResizeForModel","pos":[864.7589721679688,145.13348388671875],"size":[276.1727294921875,146],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":19},{"localized_name":"target_model","name":"target_model","type":"COMBO","widget":{"name":"target_model"},"link":null},{"localized_name":"resize_mode","name":"resize_mode","type":"COMBO","widget":{"name":"resize_mode"},"link":null},{"localized_name":"interpolation","name":"interpolation","shape":7,"type":"COMBO","widget":{"name":"interpolation"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[20,24]},{"localized_name":"original_width","name":"original_width","type":"INT","links":[22]},{"localized_name":"original_height","name":"original_height","type":"INT","links":[23]}],"properties":{"Node name for S&R":"SmartResizeForModel"},"widgets_values":["2048 (BiRefNet_HR)","smart","lanczos"]},{"id":18,"type":"BiRefNet_HR_RemoveBg","pos":[2004.4283447265625,134.8046417236328],"size":[314.26361083984375,246],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":29},{"localized_name":"model_variant","name":"model_variant","type":"COMBO","widget":{"name":"model_variant"},"link":null},{"localized_name":"background_color","name":"background_color","shape":7,"type":"COMBO","widget":{"name":"background_color"},"link":null},{"localized_name":"custom_hex_color","name":"custom_hex_color","shape":7,"type":"STRING","widget":{"name":"custom_hex_color"},"link":null},{"localized_name":"sensitivity","name":"sensitivity","shape":7,"type":"FLOAT","widget":{"name":"sensitivity"},"link":null},{"localized_name":"mask_blur","name":"mask_blur","shape":7,"type":"INT","widget":{"name":"mask_blur"},"link":null},{"localized_name":"mask_offset","name":"mask_offset","shape":7,"type":"INT","widget":{"name":"mask_offset"},"link":null},{"localized_name":"process_resolution","name":"process_resolution","shape":7,"type":"INT","widget":{"name":"process_resolution"},"link":null},{"localized_name":"use_fp16","name":"use_fp16","shape":7,"type":"BOOLEAN","widget":{"name":"use_fp16"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[30]},{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"Node name for S&R":"BiRefNet_HR_RemoveBg"},"widgets_values":["BiRefNet_HR","none","#FFFFFF",1,0,0,2048,true]},{"id":5,"type":"RestoreOriginalSize","pos":[2359.782470703125,134.14834594726562],"size":[270,106],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":30},{"localized_name":"original_width","name":"original_width","type":"INT","widget":{"name":"original_width"},"link":22},{"localized_name":"original_height","name":"original_height","type":"INT","widget":{"name":"original_height"},"link":23},{"localized_name":"interpolation","name":"interpolation","shape":7,"type":"COMBO","widget":{"name":"interpolation"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[4]}],"properties":{"Node name for S&R":"RestoreOriginalSize"},"widgets_values":[1024,1024,"lanczos"]},{"id":6,"type":"FreeVRAMInline","pos":[2668.844970703125,135.1184539794922],"size":[270,82],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":4},{"localized_name":"mode","name":"mode","shape":7,"type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"unload_models","name":"unload_models","shape":7,"type":"BOOLEAN","widget":{"name":"unload_models"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[5,16]}],"properties":{"Node name for S&R":"FreeVRAMInline"},"widgets_values":["aggressive",false]},{"id":1,"type":"LoadImage","pos":[545.8904418945312,145.69383239746094],"size":[273.4772644042969,314],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[19]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.63","Node name for S&R":"LoadImage"},"widgets_values":["fc136548ca32da2905f1455e119c71d761476e28.jpeg","image"]}],"links":[[4,5,0,6,0,"IMAGE"],[5,6,0,7,0,"IMAGE"],[7,8,2,10,0,"STRING"],[11,10,0,11,1,"STRING"],[12,10,0,12,0,"STRING"],[16,6,0,13,0,"IMAGE"],[17,8,2,14,0,"STRING"],[18,15,0,8,1,"FL2MODEL"],[19,1,0,16,0,"IMAGE"],[20,16,0,11,0,"IMAGE"],[22,16,1,5,1,"INT"],[23,16,2,5,2,"INT"],[24,16,0,8,0,"IMAGE"],[29,11,0,18,0,"IMAGE"],[30,18,0,5,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.6934334949441382,"offset":[237.83410652350446,146.6851484237079]}},"version":0.4}